{"ast":null,"code":"var util = require('./util');\n\nfunction scrollIntoView(elem, container, config) {\n  config = config || {}; // document 归一化到 window\n\n  if (container.nodeType === 9) {\n    container = util.getWindow(container);\n  }\n\n  var allowHorizontalScroll = config.allowHorizontalScroll;\n  var onlyScrollIfNeeded = config.onlyScrollIfNeeded;\n  var alignWithTop = config.alignWithTop;\n  var alignWithLeft = config.alignWithLeft;\n  allowHorizontalScroll = allowHorizontalScroll === undefined ? true : allowHorizontalScroll;\n  var isWin = util.isWindow(container);\n  var elemOffset = util.offset(elem);\n  var eh = util.outerHeight(elem);\n  var ew = util.outerWidth(elem);\n  var containerOffset, ch, cw, containerScroll, diffTop, diffBottom, win, winScroll, ww, wh;\n\n  if (isWin) {\n    win = container;\n    wh = util.height(win);\n    ww = util.width(win);\n    winScroll = {\n      left: util.scrollLeft(win),\n      top: util.scrollTop(win)\n    }; // elem 相对 container 可视视窗的距离\n\n    diffTop = {\n      left: elemOffset.left - winScroll.left,\n      top: elemOffset.top - winScroll.top\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (winScroll.left + ww),\n      top: elemOffset.top + eh - (winScroll.top + wh)\n    };\n    containerScroll = winScroll;\n  } else {\n    containerOffset = util.offset(container);\n    ch = container.clientHeight;\n    cw = container.clientWidth;\n    containerScroll = {\n      left: container.scrollLeft,\n      top: container.scrollTop\n    }; // elem 相对 container 可视视窗的距离\n    // 注意边框, offset 是边框到根节点\n\n    diffTop = {\n      left: elemOffset.left - (containerOffset.left + (parseFloat(util.css(container, 'borderLeftWidth')) || 0)),\n      top: elemOffset.top - (containerOffset.top + (parseFloat(util.css(container, 'borderTopWidth')) || 0))\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (containerOffset.left + cw + (parseFloat(util.css(container, 'borderRightWidth')) || 0)),\n      top: elemOffset.top + eh - (containerOffset.top + ch + (parseFloat(util.css(container, 'borderBottomWidth')) || 0))\n    };\n  }\n\n  if (diffTop.top < 0 || diffBottom.top > 0) {\n    // 强制向上\n    if (alignWithTop === true) {\n      util.scrollTop(container, containerScroll.top + diffTop.top);\n    } else if (alignWithTop === false) {\n      util.scrollTop(container, containerScroll.top + diffBottom.top);\n    } else {\n      // 自动调整\n      if (diffTop.top < 0) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  } else {\n    if (!onlyScrollIfNeeded) {\n      alignWithTop = alignWithTop === undefined ? true : !!alignWithTop;\n\n      if (alignWithTop) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  }\n\n  if (allowHorizontalScroll) {\n    if (diffTop.left < 0 || diffBottom.left > 0) {\n      // 强制向上\n      if (alignWithLeft === true) {\n        util.scrollLeft(container, containerScroll.left + diffTop.left);\n      } else if (alignWithLeft === false) {\n        util.scrollLeft(container, containerScroll.left + diffBottom.left);\n      } else {\n        // 自动调整\n        if (diffTop.left < 0) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    } else {\n      if (!onlyScrollIfNeeded) {\n        alignWithLeft = alignWithLeft === undefined ? true : !!alignWithLeft;\n\n        if (alignWithLeft) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = scrollIntoView;","map":{"version":3,"sources":["C:/Users/KYM/Desktop/calorie/client/node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js"],"names":["util","require","scrollIntoView","elem","container","config","nodeType","getWindow","allowHorizontalScroll","onlyScrollIfNeeded","alignWithTop","alignWithLeft","undefined","isWin","isWindow","elemOffset","offset","eh","outerHeight","ew","outerWidth","containerOffset","ch","cw","containerScroll","diffTop","diffBottom","win","winScroll","ww","wh","height","width","left","scrollLeft","top","scrollTop","clientHeight","clientWidth","parseFloat","css","module","exports"],"mappings":"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","sourcesContent":["var util = require('./util');\n\nfunction scrollIntoView(elem, container, config) {\n  config = config || {};\n  // document 归一化到 window\n  if (container.nodeType === 9) {\n    container = util.getWindow(container);\n  }\n\n  var allowHorizontalScroll = config.allowHorizontalScroll;\n  var onlyScrollIfNeeded = config.onlyScrollIfNeeded;\n  var alignWithTop = config.alignWithTop;\n  var alignWithLeft = config.alignWithLeft;\n\n  allowHorizontalScroll = allowHorizontalScroll === undefined ? true : allowHorizontalScroll;\n\n  var isWin = util.isWindow(container);\n  var elemOffset = util.offset(elem);\n  var eh = util.outerHeight(elem);\n  var ew = util.outerWidth(elem);\n  var containerOffset, ch, cw, containerScroll,\n    diffTop, diffBottom, win,\n    winScroll, ww, wh;\n\n  if (isWin) {\n    win = container;\n    wh = util.height(win);\n    ww = util.width(win);\n    winScroll = {\n      left: util.scrollLeft(win),\n      top: util.scrollTop(win)\n    };\n    // elem 相对 container 可视视窗的距离\n    diffTop = {\n      left: elemOffset.left - winScroll.left,\n      top: elemOffset.top - winScroll.top\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (winScroll.left + ww),\n      top: elemOffset.top + eh - (winScroll.top + wh)\n    };\n    containerScroll = winScroll;\n  } else {\n    containerOffset = util.offset(container);\n    ch = container.clientHeight;\n    cw = container.clientWidth;\n    containerScroll = {\n      left: container.scrollLeft,\n      top: container.scrollTop\n    };\n    // elem 相对 container 可视视窗的距离\n    // 注意边框, offset 是边框到根节点\n    diffTop = {\n      left: elemOffset.left - (containerOffset.left +\n      (parseFloat(util.css(container, 'borderLeftWidth')) || 0)),\n      top: elemOffset.top - (containerOffset.top +\n      (parseFloat(util.css(container, 'borderTopWidth')) || 0))\n    };\n    diffBottom = {\n      left: elemOffset.left + ew -\n      (containerOffset.left + cw +\n      (parseFloat(util.css(container, 'borderRightWidth')) || 0)),\n      top: elemOffset.top + eh -\n      (containerOffset.top + ch +\n      (parseFloat(util.css(container, 'borderBottomWidth')) || 0))\n    };\n  }\n\n  if (diffTop.top < 0 || diffBottom.top > 0) {\n    // 强制向上\n    if (alignWithTop === true) {\n      util.scrollTop(container, containerScroll.top + diffTop.top);\n    } else if (alignWithTop === false) {\n      util.scrollTop(container, containerScroll.top + diffBottom.top);\n    } else {\n      // 自动调整\n      if (diffTop.top < 0) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  } else {\n    if (!onlyScrollIfNeeded) {\n      alignWithTop = alignWithTop === undefined ? true : !!alignWithTop;\n      if (alignWithTop) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  }\n\n  if (allowHorizontalScroll) {\n    if (diffTop.left < 0 || diffBottom.left > 0) {\n      // 强制向上\n      if (alignWithLeft === true) {\n        util.scrollLeft(container, containerScroll.left + diffTop.left);\n      } else if (alignWithLeft === false) {\n        util.scrollLeft(container, containerScroll.left + diffBottom.left);\n      } else {\n        // 自动调整\n        if (diffTop.left < 0) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    } else {\n      if (!onlyScrollIfNeeded) {\n        alignWithLeft = alignWithLeft === undefined ? true : !!alignWithLeft;\n        if (alignWithLeft) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = scrollIntoView;\n"]},"metadata":{},"sourceType":"script"}